import{d as r,m as c,f as C,g as h,h as m,i as V,o as f,c as p,a as s,j as B,b as x,w as M,u as S,F as w}from"./index-DmE6Qz1C.js";import{_ as D}from"./Knob.vue_vue_type_style_index_0_scoped_b8894ed7_lang-BilKL6nt.js";const F={class:"dialog__closeMark_box"},O=r({__name:"BaseDialog",props:c({clickOutSide:{type:Boolean,default:!0},maxWidthScale:{default:.8}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:c(["closeFn"],["update:modelValue"]),setup(i,{emit:a}){C(o=>({"39ce68f7":o.maxWidthScale}));const n=i,l=h(i,"modelValue"),d=a,e=m(),u=({clientX:o,clientY:t})=>{if(!n.clickOutSide||!l.value)return;const{left:_,right:g,top:v,bottom:k}=e.value.getBoundingClientRect();(o<_||o>g||t<v||t>k)&&(l.value=!1)};return V(l,()=>{if(e.value){if(l.value)return e.value.showModal();e.value.close(),d("closeFn")}}),(o,t)=>(f(),p("dialog",{ref_key:"dialog",ref:e,class:"dialog",onClick:u},[s("div",F,[s("span",{class:"dialog__closeMark_mark",onClick:t[0]||(t[0]=()=>l.value=!1)},"×")]),B(o.$slots,"default",{},void 0,!0)],512))}}),b=D(O,[["__scopeId","data-v-38221f34"]]),y=s("div",null,"這是一個dialog",-1),W=r({__name:"Dialog",setup(i){const a=m(!1),n=()=>a.value=!0,l=()=>{alert("關閉dialog")};return(d,e)=>(f(),p(w,null,[s("input",{type:"button",value:"dialog開關",onClick:n}),x(S(b),{modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=u=>a.value=u),onCloseFn:l},{default:M(()=>[y]),_:1},8,["modelValue"])],64))}});export{W as default};
